From b6cceb2ecdb7d7bc750b1a05eae39c238a106b6f Mon Sep 17 00:00:00 2001
From: csagan5 <32685696+csagan5@users.noreply.github.com>
Date: Sun, 27 Feb 2022 23:58:22 +0100
Subject: [PATCH 166/177] Disable minidump upload scheduling

---
 chrome/browser/endpoint_fetcher/endpoint_fetcher.cc          | 2 +-
 .../minidump_uploader/MinidumpUploadJobService.java          | 5 ++++-
 2 files changed, 5 insertions(+), 2 deletions(-)

diff --git a/chrome/browser/endpoint_fetcher/endpoint_fetcher.cc b/chrome/browser/endpoint_fetcher/endpoint_fetcher.cc
index 2bc9d6b653..777ea67ce0 100644
--- a/chrome/browser/endpoint_fetcher/endpoint_fetcher.cc
+++ b/chrome/browser/endpoint_fetcher/endpoint_fetcher.cc
@@ -337,7 +337,7 @@ void EndpointFetcher::OnResponseFetched(
     auto response = std::make_unique<EndpointResponse>();
     // TODO(crbug.com/993393) Add more detailed error messaging
     std::string net_error = net::ErrorToString(simple_url_loader_->NetError());
-    VLOG(1) << __func__ << " with response error: " << net_error;
+    LOG(ERROR) << __func__ << " with response error: " << net_error;
     response->response = "There was a response error";
     simple_url_loader_.reset();
     std::move(endpoint_fetcher_callback).Run(std::move(response));
diff --git a/components/minidump_uploader/android/java/src/org/chromium/components/minidump_uploader/MinidumpUploadJobService.java b/components/minidump_uploader/android/java/src/org/chromium/components/minidump_uploader/MinidumpUploadJobService.java
index de4bc338bc..5cf532d4a6 100644
--- a/components/minidump_uploader/android/java/src/org/chromium/components/minidump_uploader/MinidumpUploadJobService.java
+++ b/components/minidump_uploader/android/java/src/org/chromium/components/minidump_uploader/MinidumpUploadJobService.java
@@ -44,7 +44,10 @@ public abstract class MinidumpUploadJobService extends JobService {
      *     to build an upload job for scheduling.
      */
     public static void scheduleUpload(JobInfo.Builder jobInfoBuilder) {
-        Log.i(TAG, "Scheduling upload of all pending minidumps.");
+        Log.i(TAG, "Scheduling upload of all pending minidumps is disabled.");
+        if ((true)) {
+           return;
+        }
         JobScheduler scheduler =
                 (JobScheduler) ContextUtils.getApplicationContext().getSystemService(
                         Context.JOB_SCHEDULER_SERVICE);
-- 
2.35.1

