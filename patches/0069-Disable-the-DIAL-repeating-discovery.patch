From d50ccb9915856c36598f27032e0b8953ae9af86b Mon Sep 17 00:00:00 2001
From: Blaise <BlaiseD@GMail.com>
Date: Sun, 23 Aug 2020 14:32:55 -0500
Subject: [PATCH 069/107] Disable the DIAL repeating discovery

This causes unnecessary SSDP network spam
---
 chrome/browser/media/router/discovery/dial/dial_registry.cc | 6 ------
 1 file changed, 6 deletions(-)

diff --git a/chrome/browser/media/router/discovery/dial/dial_registry.cc b/chrome/browser/media/router/discovery/dial/dial_registry.cc
index e150ef38a8..f36f199ebd 100644
--- a/chrome/browser/media/router/discovery/dial/dial_registry.cc
+++ b/chrome/browser/media/router/discovery/dial/dial_registry.cc
@@ -150,10 +150,6 @@ void DialRegistry::StartPeriodicDiscovery() {
     return;
 
   dial_ = CreateDialService();
-  DoDiscovery();
-  repeating_timer_ = std::make_unique<base::RepeatingTimer>();
-  repeating_timer_->Start(FROM_HERE, refresh_interval_delta_, this,
-                          &DialRegistry::DoDiscovery);
   // Always send the current device list with the next discovery request.  This
   // may not be necessary, but is done to match previous behavior.
   ++registry_generation_;
@@ -170,8 +166,6 @@ void DialRegistry::StopPeriodicDiscovery() {
   if (!dial_)
     return;
 
-  repeating_timer_->Stop();
-  repeating_timer_.reset();
   ClearDialService();
 }
 
-- 
2.35.1

