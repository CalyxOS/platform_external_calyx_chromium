From: uazo <uazo@users.noreply.github.com>
Date: Wed, 22 May 2024 07:43:04 +0000
Subject: Keep disabled WebViewMediaIntegrityApi

Disables a new mechanism similar to Web Environment Integrity API in use in webviews
see https://issuetracker.google.com/issues/327186031
https://android-developers.googleblog.com/2023/11/increasing-trust-for-embedded-media.html

need: Add-cromite-flags-support.patch
License: GPL-2.0-or-later - https://spdx.org/licenses/GPL-2.0-or-later.html
Change-Id: Idecffd4a628cc1d974f587915b63abc0d0a6f99c
---
 android_webview/common/aw_features.cc | 2 ++
 1 file changed, 2 insertions(+)

diff --git a/android_webview/common/aw_features.cc b/android_webview/common/aw_features.cc
--- a/android_webview/common/aw_features.cc
+++ b/android_webview/common/aw_features.cc
@@ -259,5 +259,7 @@ BASE_FEATURE(kCreateSpareRendererOnBrowserContextCreation,
              "CreateSpareRendererOnBrowserContextCreation",
              base::FEATURE_DISABLED_BY_DEFAULT);
 
+SET_CROMITE_FEATURE_DISABLED(kWebViewMediaIntegrityApi);
+SET_CROMITE_FEATURE_DISABLED(kWebViewMediaIntegrityApiBlinkExtension);
 }  // namespace features
 }  // namespace android_webview
-- 

