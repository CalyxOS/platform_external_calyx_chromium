From: Jan Engelhardt <jengelh@inai.de>
Date: Sun, 19 Oct 2014 14:49:10 +0200
Subject: search_engines: add DuckDuckGo as selectable and default search
 engine

Change-Id: Ic40e537471b4f6784e36c199b49e526f7218d0d7
---
 components/search_engines/search_engine_countries-inc.cc   | 3 +++
 components/search_engines/template_url_prepopulate_data.cc | 2 +-
 2 files changed, 4 insertions(+), 1 deletion(-)

diff --git a/components/search_engines/search_engine_countries-inc.cc b/components/search_engines/search_engine_countries-inc.cc
--- a/components/search_engines/search_engine_countries-inc.cc
+++ b/components/search_engines/search_engine_countries-inc.cc
@@ -33,6 +33,7 @@ struct EngineAndTier {
 
 // Default (for countries with no better engine set)
 constexpr EngineAndTier engines_default[] = {
+    {SearchEngineTier::kTopEngines, &duckduckgo},
     {SearchEngineTier::kTopEngines, &googleen},
     {SearchEngineTier::kTopEngines, &google},
     {SearchEngineTier::kTopEngines, &bing},
@@ -220,6 +221,7 @@ constexpr EngineAndTier engines_CN[] = {
     {SearchEngineTier::kTopEngines, &sogou},
     {SearchEngineTier::kTopEngines, &so_360},
     {SearchEngineTier::kTopEngines, &google},
+    {SearchEngineTier::kTopEngines, &duckduckgo},
 };
 
 // Colombia
@@ -578,6 +580,7 @@ constexpr EngineAndTier engines_KR[] = {
     {SearchEngineTier::kTopEngines, &bing},
     {SearchEngineTier::kTopEngines, &daum},
     {SearchEngineTier::kTopEngines, &coccoc},
+    {SearchEngineTier::kTopEngines, &duckduckgo},
 };
 
 // Kuwait
diff --git a/components/search_engines/template_url_prepopulate_data.cc b/components/search_engines/template_url_prepopulate_data.cc
--- a/components/search_engines/template_url_prepopulate_data.cc
+++ b/components/search_engines/template_url_prepopulate_data.cc
@@ -322,7 +322,7 @@ std::unique_ptr<TemplateURLData> GetPrepopulatedFallbackSearch(
     PrefService* prefs,
     search_engines::SearchEngineChoiceService* search_engine_choice_service) {
   return FindPrepopulatedEngineInternal(prefs, search_engine_choice_service,
-                                        google.id,
+                                        duckduckgo.id,
                                         /*use_first_as_fallback=*/true);
 }
 
-- 

