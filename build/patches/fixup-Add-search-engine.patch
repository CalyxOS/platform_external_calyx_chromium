From: Tommy Webb <tommy@calyxinstitute.org>
Date: Mon, 12 Aug 2024 14:21:00 +0000
Subject: fixup! Add search engine

Discovered by a user in the CalyxOS Development channel.
Will submit upstream.

Change-Id: I58942c1b8ff404bde89d2ccd971c651e684d16bc
---
 components/search_engines/search_engine_countries-inc.cc  | 2 ++
 components/search_engines/template_url_prepopulate_data.h | 4 ++--
 2 files changed, 4 insertions(+), 2 deletions(-)

diff --git a/components/search_engines/search_engine_countries-inc.cc b/components/search_engines/search_engine_countries-inc.cc
--- a/components/search_engines/search_engine_countries-inc.cc
+++ b/components/search_engines/search_engine_countries-inc.cc
@@ -1450,6 +1450,8 @@ const std::vector<EngineAndTier> GetPrepopulationSetFromCountryID(
   for (size_t i = 0; i < num_engines; i++) {
     t_url.push_back(engines[i]);
   }
+  // Must update kMax*PrepopulatedEngines constants if any others are added below!
+  // See components/search_engines/template_url_prepopulate_data.h
   t_url.push_back({SearchEngineTier::kTopEngines, &googleen});
   t_url.push_back({SearchEngineTier::kTopEngines, &duckduckgo_light});
   return t_url;
diff --git a/components/search_engines/template_url_prepopulate_data.h b/components/search_engines/template_url_prepopulate_data.h
--- a/components/search_engines/template_url_prepopulate_data.h
+++ b/components/search_engines/template_url_prepopulate_data.h
@@ -36,11 +36,11 @@ extern const int kMaxPrepopulatedEngineID;
 //
 // Note: If this is increased, please also increase the declared variant count
 // for the `Search.ChoiceScreenShowedEngineAt.Index{Index}` histogram.
-inline constexpr size_t kMaxEeaPrepopulatedEngines = 8;
+inline constexpr size_t kMaxEeaPrepopulatedEngines = 10;
 
 // The maximum number of prepopulated search engines that can be returned in
 // in the rest of the world by `GetPrepopulatedEngines()`.
-inline constexpr size_t kMaxRowPrepopulatedEngines = 5;
+inline constexpr size_t kMaxRowPrepopulatedEngines = 7;
 
 void RegisterProfilePrefs(user_prefs::PrefRegistrySyncable* registry);
 
-- 

