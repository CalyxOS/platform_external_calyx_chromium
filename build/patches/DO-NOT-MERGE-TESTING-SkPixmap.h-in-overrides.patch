From: Tommy Webb <tommy@calyxinstitute.org>
Date: Wed, 13 Nov 2024 21:12:07 +0000
Subject: DO NOT MERGE: TESTING: SkPixmap.h in overrides

Change-Id: I05f1fbf867e3a000e126d38d523990a112303f88
---
 overrides/README.md                                | 3 +++
 overrides/include/core/SkPixmap.h                  | 1 +
 overrides/third_party/skia/include/core/SkPixmap.h | 3 +++
 3 files changed, 7 insertions(+)
 create mode 120000 overrides/include/core/SkPixmap.h
 create mode 100644 overrides/third_party/skia/include/core/SkPixmap.h

diff --git a/overrides/README.md b/overrides/README.md
--- a/overrides/README.md
+++ b/overrides/README.md
@@ -1 +1,4 @@
 Place files in this directory in the same path as a Chromium code file path to override that file.
+
+The "include" directory is a hack (hopefully temporary?) to allow third_party/skia itself to use
+our modified SkPixmap.h, since third_party/skia itself references SkPixmap.h by a relative path.
diff --git a/overrides/include/core/SkPixmap.h b/overrides/include/core/SkPixmap.h
new file mode 120000
--- /dev/null
+++ b/overrides/include/core/SkPixmap.h
@@ -0,0 +1 @@
+../../third_party/skia/include/core/SkPixmap.h
\ No newline at end of file
diff --git a/overrides/third_party/skia/include/core/SkPixmap.h b/overrides/third_party/skia/include/core/SkPixmap.h
new file mode 100644
--- /dev/null
+++ b/overrides/third_party/skia/include/core/SkPixmap.h
@@ -0,0 +1,3 @@
+#pragma clang unsafe_buffer_usage begin
+#include "src/third_party/skia/include/core/SkPixmap.h"
+#pragma clang unsafe_buffer_usage end
-- 

